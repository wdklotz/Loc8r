(function(){angular.module("loc8rApp",["ngRoute","ngSanitize","ui.bootstrap"]);function e(e,t){e.when("/",{templateUrl:"/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/about",{templateUrl:"/common/views/genericText.view.html",controller:"aboutCtrl",controllerAs:"vm"}).when("/location/:locationid",{templateUrl:"/locationDetail/locationDetail.view.html",controller:"locationDetailCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("loc8rApp").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("loc8rApp").directive("footerGeneric",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}})();(function(){angular.module("loc8rApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();(function(){angular.module("loc8rApp").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){var e=function(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"/common/directives/ratingStars/ratingStars.template.html"}};angular.module("loc8rApp").directive("ratingStars",e)})();(function(){var e=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};var t=function(){return function(t){var o,n;if(t&&e(t)){if(t>1e3){o=parseFloat(t/1e3).toFixed(1);n="km"}else{o=parseInt(t,10);n="m"}return o+n}else{return"0m"}}};angular.module("loc8rApp").filter("formatDistance",t)})();(function(){angular.module("loc8rApp").filter("addHtmlLineBreaks",e);function e(){return function(e){var t=e.replace(/\n/g,"<br/>");return t}}})();(function(){var e=function(){var e=function(e,t,o){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(e,t)}else{o()}};return{getPosition:e}};angular.module("loc8rApp").service("geolocation",e)})();(function(){e.$inject=["$http","$log"];function e(e,t){var o=function(o,n){t.info("loc8rData.service.js==>lat="+o+", lng="+n);return e.get("/api/locations?lng="+n+"&lat="+o+"&maxDistance=15000")};var n=function(t){return e.get("/api/location/"+t)};var r=function(t,o){return e.post("/api/location/"+t+"/reviews",o)};return{locationByCoords:o,locationById:n,addReviewById:r}}angular.module("loc8rApp").service("loc8rData",e)})();(function(){e.$inject=["$scope","loc8rData","geolocation"];function e(e,t,o){var n=this;n.pageHeader={title:"Loc8r-SPA",strapline:"Find place to work with wifi near you"};n.sidebar={content:'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc sed lorem ac nisi dignissim accumsan.     Nullam sit amet interdum magna. Morbi quis faucibus nisi. Vestibulum mollis purus quis eros adipiscing     tristique. \n\n     <h6><small>This view is generated with "layout" => "app_client/index.html"  and "ngView" => "home.view.html.</small></h6>'};n.message="Checking your location";n.getData=function(e){var o=e.coords.latitude,r=e.coords.longitude;n.message="Searching for nearby places";t.locationByCoords(o,r).success(function(e){n.message=e.length>0?"":"No locations found nearby";n.data={locations:e}}).error(function(e){n.message="Sorry, something's gone wrong"})};n.showError=function(t){e.$apply(function(){n.message=t.message})};n.noGeo=function(){e.$apply(function(){n.message="Geolocation is not supported by this browser."})};o.getPosition(n.getData,n.showError,n.noGeo)}angular.module("loc8rApp").controller("homeCtrl",e)})();(function(){angular.module("loc8rApp").controller("aboutCtrl",e);function e(){var e=this;e.pageHeader={title:"About Loc8r"};e.main={content:"Loc8r was created to help people find places to sit down and get a bit of work done.\n\n   		  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc sed lorem ac nisi dignissim accumsan.   		  Nullam sit amet interdum magna. Morbi quis faucibus nisi. Vestibulum mollis purus quis eros adipiscing   		  tristique. Proin posuere semper tellus, id placerat augue dapibus ornare. Aenean leo metus, tempus   		  in nisl eget accumsan interdum dui. Pellentesque sollicitudin volutpat ullamcorper.\n\n   		  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc sed lorem ac nisi dignissim accumsan.   		  Nullam sit amet interdum magna. Morbi quis faucibus nisi. Vestibulum mollis purus quis eros adipiscing   		  tristique. Proin posuere semper tellus, id placerat augue dapibus ornare. Aenean leo metus, tempus   		  in nisl eget accumsan interdum dui. Pellentesque sollicitudin volutpat ullamcorper."}}})();(function(){angular.module("loc8rApp").controller("locationDetailCtrl",e);e.$inject=["$routeParams","$uibModal","loc8rData"];function e(e,t,o){var n=this;n.locationid=e.locationid;o.locationById(n.locationid).success(function(e){n.data={location:e};n.pageHeader={title:n.data.location.name}}).error(function(e){console.log(e)});n.popupReviewForm=function(){var e=t.open({templateUrl:"/reviewModal/reviewModal.view.html",controller:"reviewModalCtrl as vm",resolve:{locationData:function(){return{locationid:n.locationid,locationName:n.data.location.name}}}});e.result.then(function(e){n.data.location.reviews.push(e)})}}})();(function(){angular.module("loc8rApp").controller("reviewModalCtrl",e);e.$inject=["$uibModalInstance","loc8rData","locationData"];function e(e,t,o){var n=this;n.locationData=o;n.modal={cancel:function(){e.dismiss("cancel")},close:function(t){e.close(t)}};n.onSubmit=function(){n.formError="";if(n.formData==undefined||!n.formData.name||!n.formData.rating||!n.formData.reviewText){n.formError="All fields required, please try again";return false}else{n.doAddReview(n.locationData.locationid,n.formData)}};n.doAddReview=function(e,o){t.addReviewById(e,{author:o.name,rating:o.rating,reviewText:o.reviewText}).success(function(e){n.modal.close(e)}).error(function(e){n.formError="Your review has not been saved, try again"});return false}}})();(function(e,t,o){"use strict";function n(e,o,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,i,a,l,s){function u(){f&&(f.remove(),f=null);d&&(d.$destroy(),d=null);p&&(n.leave(p,function(){f=null}),f=p,p=null)}function c(){var a=e.current&&e.current.locals;if(t.isDefined(a&&a.$template)){var a=r.$new(),l=e.current;p=s(a,function(e){n.enter(e,null,p||i,function(){!t.isDefined(m)||m&&!r.$eval(m)||o()});u()});d=l.scope=a;d.$emit("$viewContentLoaded");d.$eval(h)}else u()}var d,p,f,m=a.autoscroll,h=a.onload||"";r.$on("$routeChangeSuccess",c);c()}}}function r(e,t,o){return{restrict:"ECA",priority:-400,link:function(n,r){var i=o.current,a=i.locals;r.html(a.$template);var l=e(r.contents());i.controller&&(a.$scope=n,a=t(i.controller,a),i.controllerAs&&(n[i.controllerAs]=a),r.data("$ngControllerController",a),r.children().data("$ngControllerController",a));l(n)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,o){return t.extend(new(t.extend(function(){},{prototype:e})),o)}function o(e,t){var o=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},r=n.keys=[];e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,o,n){e="?"===n?n:null;n="*"===n?n:null;r.push({name:o,optional:!!e});t=t||"";return""+(e?"":t)+"(?:"+(e?t:"")+(n&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1");n.regexp=RegExp("^"+e+"$",o?"i":"");return n}var n={};this.when=function(e,r){n[e]=t.extend({reloadOnSearch:!0},r,e&&o(e,r));if(e){var i="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[i]=t.extend({redirectTo:e},o(i,r))}return this};this.otherwise=function(e){this.when(null,e);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(o,r,i,a,l,s,u,c){function d(){var e=p(),n=h.current;if(e&&n&&e.$$route===n.$$route&&t.equals(e.pathParams,n.pathParams)&&!e.reloadOnSearch&&!m)n.params=e.params,t.copy(n.params,i),o.$broadcast("$routeUpdate",n);else if(e||n)m=!1,o.$broadcast("$routeChangeStart",e,n),(h.current=e)&&e.redirectTo&&(t.isString(e.redirectTo)?r.path(f(e.redirectTo,e.params)).search(e.params).replace():r.url(e.redirectTo(e.pathParams,r.path(),r.search())).replace()),a.when(e).then(function(){if(e){var o=t.extend({},e.resolve),n,r;t.forEach(o,function(e,n){o[n]=t.isString(e)?l.get(e):l.invoke(e)});t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(r=e.templateUrl)&&(t.isFunction(r)&&(r=r(e.params)),r=c.getTrustedResourceUrl(r),t.isDefined(r)&&(e.loadedTemplateUrl=r,n=s.get(r,{cache:u}).then(function(e){return e.data})));t.isDefined(n)&&(o.$template=n);return a.all(o)}}).then(function(r){e==h.current&&(e&&(e.locals=r,t.copy(e.params,i)),o.$broadcast("$routeChangeSuccess",e,n))},function(t){e==h.current&&o.$broadcast("$routeChangeError",e,n,t)})}function p(){var o,i;t.forEach(n,function(n,a){var l;if(l=!i){var s=r.path();l=n.keys;var u={};if(n.regexp)if(s=n.regexp.exec(s)){for(var c=1,d=s.length;c<d;++c){var p=l[c-1],f="string"==typeof s[c]?decodeURIComponent(s[c]):s[c];p&&f&&(u[p.name]=f)}l=u}else l=null;else l=null;l=o=l}l&&(i=e(n,{params:t.extend({},r.search(),o),pathParams:o}),i.$$route=n)});return i||n[null]&&e(n[null],{params:{},pathParams:{}})}function f(e,o){var n=[];t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var r=e.match(/(\w+)(.*)/),i=r[1];n.push(o[i]);n.push(r[2]||"");delete o[i]}});return n.join("")}var m=!1,h={routes:n,reload:function(){m=!0;o.$evalAsync(d)}};o.$on("$locationChangeSuccess",d);return h}]});e.provider("$routeParams",function(){this.$get=function(){return{}}});e.directive("ngView",n);e.directive("ngView",r);n.$inject=["$route","$anchorScroll","$animate"];r.$inject=["$compile","$controller","$route"]})(window,window.angular);(function(e,t,o){"use strict";function n(e){var o=[];s(o,t.noop).chars(e);return o.join("")}function r(e,o){var n={},r=e.split(","),i;for(i=0;i<r.length;i++)n[o?t.lowercase(r[i]):r[i]]=!0;return n}function i(e,t){null===e||e===o?e="":"string"!==typeof e&&(e=""+e);k.innerHTML=e;var n=5;do{if(0===n)throw c("uinput");n--;11>=document.documentMode&&u(k);e=k.innerHTML;k.innerHTML=e}while(e!==k.innerHTML);for(n=k.firstChild;n;){switch(n.nodeType){case 1:t.start(n.nodeName.toLowerCase(),a(n.attributes));break;case 3:t.chars(n.textContent)}var r;if(!(r=n.firstChild)&&(1==n.nodeType&&t.end(n.nodeName.toLowerCase()),r=n.nextSibling,!r))for(;null==r;){n=n.parentNode;if(n===k)break;r=n.nextSibling;1==n.nodeType&&t.end(n.nodeName.toLowerCase())}n=r}for(;n=k.firstChild;)k.removeChild(n)}function a(e){for(var t={},o=0,n=e.length;o<n;o++){var r=e[o];t[r.name]=r.value}return t}function l(e){return e.replace(/&/g,"&amp;").replace(d,function(e){var t=e.charCodeAt(0);e=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(p,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(e,o){var n=!1,r=t.bind(e,e.push);return{start:function(e,i){e=t.lowercase(e);!n&&b[e]&&(n=e);n||!0!==w[e]||(r("<"),r(e),t.forEach(i,function(n,i){var a=t.lowercase(i),s="img"===e&&"src"===a||"background"===a;!0!==y[a]||!0===$[a]&&!o(n,s)||(r(" "),r(i),r('="'),r(l(n)),r('"'))}),r(">"))},end:function(e){e=t.lowercase(e);n||!0!==w[e]||!0===f[e]||(r("</"),r(e),r(">"));e==n&&(n=!1)},chars:function(e){n||r(l(e))}}}function u(e){if(e.nodeType===Node.ELEMENT_NODE)for(var t=e.attributes,o=0,n=t.length;o<n;o++){var r=t[o],i=r.name.toLowerCase();if("xmlns:ns1"===i||0===i.indexOf("ns1:"))e.removeAttributeNode(r),o--,n--}(t=e.firstChild)&&u(t);(t=e.nextSibling)&&u(t)}var c=t.$$minErr("$sanitize"),d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~ |!])/g,f=r("area,br,col,hr,img,wbr"),m=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h=r("rp,rt"),g=t.extend({},h,m),m=t.extend({},m,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),h=t.extend({},h,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),v=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),b=r("script,style"),w=t.extend({},f,m,h,g),$=r("background,cite,href,longdesc,src,xlink:href"),g=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),h=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),y=t.extend({},$,h,g),k;(function(e){if(e.document&&e.document.implementation)e=e.document.implementation.createHTMLDocument("inert");else throw c("noinert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?k=t[0]:(t=e.createElement("html"),k=e.createElement("body"),t.appendChild(k),e.appendChild(t))})(e);t.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(o){e&&t.extend(w,v);return function(e){var t=[];i(e,s(t,function(e,t){return!/^unsafe:/.test(o(e,t))}));return t.join("")}}];this.enableSvg=function(o){return t.isDefined(o)?(e=o,this):e}});t.module("ngSanitize").filter("linky",["$sanitize",function(e){var o=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),a=t.isString;return function(l,s,u){function c(e){e&&f.push(n(e))}function d(e,o){var n;f.push("<a ");t.isFunction(u)&&(u=u(e));if(t.isObject(u))for(n in u)f.push(n+'="'+u[n]+'" ');else u={};!t.isDefined(s)||"target"in u||f.push('target="',s,'" ');f.push('href="',e.replace(/"/g,"&quot;"),'">');c(o);f.push("</a>")}if(null==l||""===l)return l;if(!a(l))throw i("notstring",l);for(var p=l,f=[],m,h;l=p.match(o);)m=l[0],l[2]||l[4]||(m=(l[3]?"http://":"mailto:")+m),h=l.index,c(p.substr(0,h)),d(m,l[0].replace(r,"")),p=p.substring(h+l[0].length);c(p);return e(f.join(""))}}])})(window,window.angular);angular.module("ui.bootstrap",["ui.bootstrap.modal","ui.bootstrap.stackedMap","ui.bootstrap.position"]),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,o){e[t]||(e[t]=[]),e[t].push(o)},remove:function(t,o){var n=e[t];if(n){var r=n.indexOf(o);-1!==r&&n.splice(r,1),n.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,o){var n=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,i,a){if(n)return n.resolve(e,r,i,a);var l=[];return angular.forEach(e,function(e){l.push(angular.isFunction(e)||angular.isArray(e)?o.resolve(t.invoke(e)):angular.isString(e)?o.resolve(t.get(e)):o.resolve(e))}),o.all(l).then(function(t){var o={},n=0;return angular.forEach(e,function(e,r){o[r]=t[n++]}),o})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,o){function n(t,n,r){r.modalInClass&&(e.addClass(n,r.modalInClass),t.$on(o.NOW_CLOSING_EVENT,function(o,i){var a=i();t.modalOptions.animation?e.removeClass(n,r.modalInClass).then(a):a()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,o,n){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,i,a){i.addClass(a.windowClass||""),i.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var o=e.getTop();o&&o.value.backdrop&&"static"!==o.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(o.key,"backdrop click"))},i.on("click",r.close),r.$isRendered=!0;var l=t.defer();a.$observe("modalRender",function(e){"true"===e&&l.resolve()}),l.promise.then(function(){var l=null;a.modalInClass&&(l=o(i,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var n=t();o(i,{removeClass:a.modalInClass}).start().then(n)})),t.when(l).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!n[0].activeElement||!i[0].contains(n[0].activeElement)){var o=i[0].querySelector("[autofocus]");o?o.focus():i[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,o,n,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,o,n,r,i,a,l,s){function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function c(){for(var e=-1,t=y.keys(),o=0;o<t.length;o++)y.get(t[o]).value.backdrop&&(e=o);return e>-1&&S>e&&(e=S),e}function d(e,t){var o=y.get(e).value,n=o.appendTo;y.remove(e),E=y.top(),E&&(S=parseInt(E.value.modalDomEl.attr("index"),10)),m(o.modalDomEl,o.modalScope,function(){var t=o.openedClass||$;k.remove(t,e),n.toggleClass(t,k.hasKey(t)),w&&w.heightOverflow&&w.scrollbarWidth&&(n.css(w.originalRight?{paddingRight:w.originalRight+"px"}:{paddingRight:""}),w=null),p(!0)},o.closedDeferred),f(),t&&t.focus?t.focus():n.focus&&n.focus()}function p(e){var t;y.length()>0&&(t=y.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if(v&&-1===c()){var e=b;m(v,b,function(){e=null}),v=void 0,b=void 0}}function m(t,o,n,r){function a(){a.done||(a.done=!0,e.leave(t).then(function(){t.remove(),r&&r.resolve()}),o.$destroy(),n&&n())}var l,s=null,u=function(){return l||(l=i.defer(),s=l.promise),function(){l.resolve()}};return o.$broadcast(C.NOW_CLOSING_EVENT,u),i.when(s).then(a)}function h(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){C.dismiss(t.key,"escape key press")}));break;case 9:var o=C.loadFocusElementList(t),n=!1;e.shiftKey?(C.isFocusInFirstItem(e,o)||C.isModalFocused(e,t))&&(n=C.focusLastFocusableElement(o)):C.isFocusInLastItem(e,o)&&(n=C.focusFirstFocusableElement(o)),n&&(e.preventDefault(),e.stopPropagation())}}function g(e,t,o){return!e.value.modalScope.$broadcast("modal.closing",t,o).defaultPrevented}var v,b,w,$="modal-open",y=l.createNew(),k=a.createNew(),C={NOW_CLOSING_EVENT:"modal.stack.now-closing"},S=0,E=null,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(c,function(e){b&&(b.index=e)}),o.on("keydown",h),r.$on("$destroy",function(){o.off("keydown",h)}),C.open=function(t,i){var a=o[0].activeElement,l=i.openedClass||$;p(!1),E=y.top(),y.add(t,{deferred:i.deferred,renderDeferred:i.renderDeferred,closedDeferred:i.closedDeferred,modalScope:i.scope,backdrop:i.backdrop,keyboard:i.keyboard,openedClass:i.openedClass,windowTopClass:i.windowTopClass,animation:i.animation,appendTo:i.appendTo}),k.put(l,t);var u=i.appendTo,d=c();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");d>=0&&!v&&(b=r.$new(!0),b.modalOptions=i,b.index=d,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr("backdrop-class",i.backdropClass),i.animation&&v.attr("modal-animation","true"),n(v)(b),e.enter(v,u)),S=E?parseInt(E.value.modalDomEl.attr("index"),10)+1:0;var f=angular.element('<div uib-modal-window="modal-window"></div>');f.attr({"template-url":i.windowTemplateUrl,"window-class":i.windowClass,"window-top-class":i.windowTopClass,size:i.size,index:S,animate:"animate"}).html(i.content),i.animation&&f.attr("modal-animation","true"),w=s.scrollbarPadding(u),w.heightOverflow&&w.scrollbarWidth&&u.css({paddingRight:w.right+"px"}),u.addClass(l),e.enter(n(f)(i.scope),u),y.top().value.modalDomEl=f,y.top().value.modalOpener=a},C.close=function(e,t){var o=y.get(e);return o&&g(o,t,!0)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.resolve(t),d(e,o.value.modalOpener),!0):!o},C.dismiss=function(e,t){var o=y.get(e);return o&&g(o,t,!1)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.reject(t),d(e,o.value.modalOpener),!0):!o},C.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},C.getTop=function(){return y.top()},C.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},C.focusFirstFocusableElement=function(e){return e.length>0?(e[0].focus(),!0):!1},C.focusLastFocusableElement=function(e){return e.length>0?(e[e.length-1].focus(),!0):!1},C.isModalFocused=function(e,t){if(e&&t){var o=t.value.modalDomEl;if(o&&o.length)return(e.target||e.srcElement)===o[0]}return!1},C.isFocusInFirstItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[0]:!1},C.isFocusInLastItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[t.length-1]:!1},C.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var o=t[0].querySelectorAll(x);return o?Array.prototype.filter.call(o,function(e){return u(e)}):o}}},C}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,o,n,r,i,a,l){function s(e){return e.template?o.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return v}var d=o.defer(),p=o.defer(),f=o.defer(),m=o.defer(),h={result:d.promise,opened:p.promise,closed:f.promise,rendered:m.promise,close:function(e){return l.close(h,e)},dismiss:function(e){return l.dismiss(h,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||n.find("body").eq(0),!r.template&&!r.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,v=o.all([s(r),a.resolve(r.resolve,{},null,null)]);return g=c=o.all([c]).then(u,u).then(function(e){var o=r.scope||t,n=o.$new();n.$close=h.close,n.$dismiss=h.dismiss,n.$on("$destroy",function(){n.$$uibDestructionScheduled||n.$dismiss("$uibUnscheduledDestruction")});var a,s,u={};r.controller&&(u.$scope=n,u.$uibModalInstance=h,angular.forEach(e[1],function(e,t){u[t]=e}),s=i(r.controller,u,!0),r.controllerAs?(a=s.instance,r.bindToController&&(a.$close=n.$close,a.$dismiss=n.$dismiss,angular.extend(a,o)),a=s(),n[r.controllerAs]=a):a=s(),angular.isFunction(a.$onInit)&&a.$onInit()),l.open(h,{scope:n,deferred:d,renderDeferred:m,closedDeferred:f,content:e[0],animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo}),p.resolve(!0)},function(e){p.reject(e),d.reject(e)})["finally"](function(){c===g&&(c=null)}),h},u}]};return e}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,o){e.push({key:t,value:o})},get:function(t){for(var o=0;o<e.length;o++)if(t===e[o].key)return e[o]},keys:function(){for(var t=[],o=0;o<e.length;o++)t.push(e[o].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var o=-1,n=0;n<e.length;n++)if(t===e[n].key){o=n;break}return e.splice(o,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var o,n,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},i={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(o){function n(e){return"static"===(t.getComputedStyle(e).position||"static")}o=this.getRawNode(o);for(var r=o.offsetParent||e[0].documentElement;r&&r!==e[0].documentElement&&n(r);)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(n)){var i=e.find("body");i.addClass("uib-position-body-scrollbar-measure"),n=t.innerWidth-i[0].clientWidth,n=isFinite(n)?n:0,i.removeClass("uib-position-body-scrollbar-measure")}return n}if(angular.isUndefined(o)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),o=a[0].offsetWidth-a[0].clientWidth,o=isFinite(o)?o:0,a.remove()}return o},scrollbarPadding:function(e){e=this.getRawNode(e);var o=t.getComputedStyle(e),n=this.parseStyle(o.paddingRight),r=this.parseStyle(o.paddingBottom),i=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(i,a.test(i.tagName));return{scrollbarWidth:l,widthOverflow:i.scrollWidth>i.clientWidth,right:n+l,originalRight:n,heightOverflow:i.scrollHeight>i.clientHeight,bottom:r+l,originalBottom:r}},isScrollable:function(e,o){e=this.getRawNode(e);var n=o?r.hidden:r.normal,i=t.getComputedStyle(e);return n.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(o,n,i){o=this.getRawNode(o);var a=n?r.hidden:r.normal,l=e[0].documentElement,s=t.getComputedStyle(o);if(i&&a.test(s.overflow+s.overflowY+s.overflowX))return o;var u="absolute"===s.position,c=o.parentElement||l;if(c===l||"fixed"===s.position)return l;for(;c.parentElement&&c!==l;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(o,n){o=this.getRawNode(o);var r=this.offset(o);if(n){var i=t.getComputedStyle(o);r.top-=this.parseStyle(i.marginTop),r.left-=this.parseStyle(i.marginLeft)}var a=this.offsetParent(o),l={top:0,left:0};return a!==e[0].documentElement&&(l=this.offset(a),l.top+=a.clientTop-a.scrollTop,l.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:o.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:o.offsetHeight),top:Math.round(r.top-l.top),left:Math.round(r.left-l.left)}},offset:function(o){o=this.getRawNode(o);var n=o.getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:o.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:o.offsetHeight),top:Math.round(n.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(n.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(o,n,r){o=this.getRawNode(o),r=r!==!1?!0:!1;var i=o.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},l=n?e[0].documentElement:this.scrollParent(o),s=l.getBoundingClientRect();if(a.top=s.top+l.clientTop,a.left=s.left+l.clientLeft,l===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+l.clientHeight,a.right=a.left+l.clientWidth,r){var u=t.getComputedStyle(l);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(i.top-a.top),bottom:Math.round(a.bottom-i.bottom),left:Math.round(i.left-a.left),right:Math.round(a.right-i.right)}},parsePlacement:function(e){var t=i.auto.test(e);return t&&(e=e.replace(i.auto,"")),e=e.split("-"),e[0]=e[0]||"top",i.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",i.secondary.test(e[1])||(e[1]="center"),e[2]=t?!0:!1,e},positionElements:function(e,o,n,r){e=this.getRawNode(e),o=this.getRawNode(o);var a=angular.isDefined(o.offsetWidth)?o.offsetWidth:o.prop("offsetWidth"),l=angular.isDefined(o.offsetHeight)?o.offsetHeight:o.prop("offsetHeight");n=this.parsePlacement(n);var s=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(n[2]){var c=this.viewportOffset(e,r),d=t.getComputedStyle(o),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(n[0]="top"===n[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===n[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===n[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===n[0]&&p.width>c.right&&p.width<=c.left?"left":n[0],n[1]="top"===n[1]&&p.height-s.height>c.bottom&&p.height-s.height<=c.top?"bottom":"bottom"===n[1]&&p.height-s.height>c.top&&p.height-s.height<=c.bottom?"top":"left"===n[1]&&p.width-s.width>c.right&&p.width-s.width<=c.left?"right":"right"===n[1]&&p.width-s.width>c.left&&p.width-s.width<=c.right?"left":n[1],"center"===n[1])if(i.vertical.test(n[0])){var f=s.width/2-a/2;c.left+f<0&&p.width-s.width<=c.right?n[1]="left":c.right+f<0&&p.width-s.width<=c.left&&(n[1]="right")}else{var m=s.height/2-p.height/2;c.top+m<0&&p.height-s.height<=c.bottom?n[1]="top":c.bottom+m<0&&p.height-s.height<=c.top&&(n[1]="bottom")}}switch(n[0]){case"top":u.top=s.top-l;break;case"bottom":u.top=s.top+s.height;break;case"left":u.left=s.left-a;break;case"right":u.left=s.left+s.width}switch(n[1]){case"top":u.top=s.top;break;case"bottom":u.top=s.top+s.height-l;break;case"left":u.left=s.left;break;case"right":u.left=s.left+s.width-a;break;case"center":i.vertical.test(n[0])?u.left=s.left+s.width/2-a/2:u.top=s.top+s.height/2-l/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],u},positionArrow:function(e,o){e=this.getRawNode(e);var n=e.querySelector(".tooltip-inner, .popover-inner");if(n){var r=angular.element(n).hasClass("tooltip-inner"),a=e.querySelector(r?".tooltip-arrow":".arrow");if(a){var l={top:"",bottom:"",left:"",right:""};if(o=this.parsePlacement(o),"center"===o[1])return void angular.element(a).css(l);var s="border-"+o[0]+"-width",u=t.getComputedStyle(a)[s],c="border-";c+=i.vertical.test(o[0])?o[0]+"-"+o[1]:o[1]+"-"+o[0],c+="-radius";var d=t.getComputedStyle(r?n:e)[c];switch(o[0]){case"top":l.bottom=r?"0":"-"+u;break;case"bottom":l.top=r?"0":"-"+u;break;case"left":l.right=r?"0":"-"+u;break;case"right":l.left=r?"0":"-"+u}l[o[1]]=d,angular.element(a).css(l)}}}}}]),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),
angular.$$uibPositionCss=!0});angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.modal","ui.bootstrap.stackedMap","ui.bootstrap.position"]),angular.module("ui.bootstrap.tpls",["uib/template/modal/backdrop.html","uib/template/modal/window.html"]),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,o){e[t]||(e[t]=[]),e[t].push(o)},remove:function(t,o){var n=e[t];if(n){var r=n.indexOf(o);-1!==r&&n.splice(r,1),n.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,o){var n=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,i,a){if(n)return n.resolve(e,r,i,a);var l=[];return angular.forEach(e,function(e){l.push(angular.isFunction(e)||angular.isArray(e)?o.resolve(t.invoke(e)):angular.isString(e)?o.resolve(t.get(e)):o.resolve(e))}),o.all(l).then(function(t){var o={},n=0;return angular.forEach(e,function(e,r){o[r]=t[n++]}),o})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,o){function n(t,n,r){r.modalInClass&&(e.addClass(n,r.modalInClass),t.$on(o.NOW_CLOSING_EVENT,function(o,i){var a=i();t.modalOptions.animation?e.removeClass(n,r.modalInClass).then(a):a()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,o,n){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,i,a){i.addClass(a.windowClass||""),i.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var o=e.getTop();o&&o.value.backdrop&&"static"!==o.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(o.key,"backdrop click"))},i.on("click",r.close),r.$isRendered=!0;var l=t.defer();a.$observe("modalRender",function(e){"true"===e&&l.resolve()}),l.promise.then(function(){var l=null;a.modalInClass&&(l=o(i,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var n=t();o(i,{removeClass:a.modalInClass}).start().then(n)})),t.when(l).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!n[0].activeElement||!i[0].contains(n[0].activeElement)){var o=i[0].querySelector("[autofocus]");o?o.focus():i[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,o,n,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,o,n,r,i,a,l,s){function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function c(){for(var e=-1,t=y.keys(),o=0;o<t.length;o++)y.get(t[o]).value.backdrop&&(e=o);return e>-1&&S>e&&(e=S),e}function d(e,t){var o=y.get(e).value,n=o.appendTo;y.remove(e),E=y.top(),E&&(S=parseInt(E.value.modalDomEl.attr("index"),10)),m(o.modalDomEl,o.modalScope,function(){var t=o.openedClass||$;k.remove(t,e),n.toggleClass(t,k.hasKey(t)),w&&w.heightOverflow&&w.scrollbarWidth&&(n.css(w.originalRight?{paddingRight:w.originalRight+"px"}:{paddingRight:""}),w=null),p(!0)},o.closedDeferred),f(),t&&t.focus?t.focus():n.focus&&n.focus()}function p(e){var t;y.length()>0&&(t=y.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if(v&&-1===c()){var e=b;m(v,b,function(){e=null}),v=void 0,b=void 0}}function m(t,o,n,r){function a(){a.done||(a.done=!0,e.leave(t).then(function(){t.remove(),r&&r.resolve()}),o.$destroy(),n&&n())}var l,s=null,u=function(){return l||(l=i.defer(),s=l.promise),function(){l.resolve()}};return o.$broadcast(C.NOW_CLOSING_EVENT,u),i.when(s).then(a)}function h(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){C.dismiss(t.key,"escape key press")}));break;case 9:var o=C.loadFocusElementList(t),n=!1;e.shiftKey?(C.isFocusInFirstItem(e,o)||C.isModalFocused(e,t))&&(n=C.focusLastFocusableElement(o)):C.isFocusInLastItem(e,o)&&(n=C.focusFirstFocusableElement(o)),n&&(e.preventDefault(),e.stopPropagation())}}function g(e,t,o){return!e.value.modalScope.$broadcast("modal.closing",t,o).defaultPrevented}var v,b,w,$="modal-open",y=l.createNew(),k=a.createNew(),C={NOW_CLOSING_EVENT:"modal.stack.now-closing"},S=0,E=null,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(c,function(e){b&&(b.index=e)}),o.on("keydown",h),r.$on("$destroy",function(){o.off("keydown",h)}),C.open=function(t,i){var a=o[0].activeElement,l=i.openedClass||$;p(!1),E=y.top(),y.add(t,{deferred:i.deferred,renderDeferred:i.renderDeferred,closedDeferred:i.closedDeferred,modalScope:i.scope,backdrop:i.backdrop,keyboard:i.keyboard,openedClass:i.openedClass,windowTopClass:i.windowTopClass,animation:i.animation,appendTo:i.appendTo}),k.put(l,t);var u=i.appendTo,d=c();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");d>=0&&!v&&(b=r.$new(!0),b.modalOptions=i,b.index=d,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr("backdrop-class",i.backdropClass),i.animation&&v.attr("modal-animation","true"),n(v)(b),e.enter(v,u)),S=E?parseInt(E.value.modalDomEl.attr("index"),10)+1:0;var f=angular.element('<div uib-modal-window="modal-window"></div>');f.attr({"template-url":i.windowTemplateUrl,"window-class":i.windowClass,"window-top-class":i.windowTopClass,size:i.size,index:S,animate:"animate"}).html(i.content),i.animation&&f.attr("modal-animation","true"),w=s.scrollbarPadding(u),w.heightOverflow&&w.scrollbarWidth&&u.css({paddingRight:w.right+"px"}),u.addClass(l),e.enter(n(f)(i.scope),u),y.top().value.modalDomEl=f,y.top().value.modalOpener=a},C.close=function(e,t){var o=y.get(e);return o&&g(o,t,!0)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.resolve(t),d(e,o.value.modalOpener),!0):!o},C.dismiss=function(e,t){var o=y.get(e);return o&&g(o,t,!1)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.reject(t),d(e,o.value.modalOpener),!0):!o},C.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},C.getTop=function(){return y.top()},C.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},C.focusFirstFocusableElement=function(e){return e.length>0?(e[0].focus(),!0):!1},C.focusLastFocusableElement=function(e){return e.length>0?(e[e.length-1].focus(),!0):!1},C.isModalFocused=function(e,t){if(e&&t){var o=t.value.modalDomEl;if(o&&o.length)return(e.target||e.srcElement)===o[0]}return!1},C.isFocusInFirstItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[0]:!1},C.isFocusInLastItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[t.length-1]:!1},C.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var o=t[0].querySelectorAll(x);return o?Array.prototype.filter.call(o,function(e){return u(e)}):o}}},C}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,o,n,r,i,a,l){function s(e){return e.template?o.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return v}var d=o.defer(),p=o.defer(),f=o.defer(),m=o.defer(),h={result:d.promise,opened:p.promise,closed:f.promise,rendered:m.promise,close:function(e){return l.close(h,e)},dismiss:function(e){return l.dismiss(h,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||n.find("body").eq(0),!r.template&&!r.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,v=o.all([s(r),a.resolve(r.resolve,{},null,null)]);return g=c=o.all([c]).then(u,u).then(function(e){var o=r.scope||t,n=o.$new();n.$close=h.close,n.$dismiss=h.dismiss,n.$on("$destroy",function(){n.$$uibDestructionScheduled||n.$dismiss("$uibUnscheduledDestruction")});var a,s,u={};r.controller&&(u.$scope=n,u.$uibModalInstance=h,angular.forEach(e[1],function(e,t){u[t]=e}),s=i(r.controller,u,!0),r.controllerAs?(a=s.instance,r.bindToController&&(a.$close=n.$close,a.$dismiss=n.$dismiss,angular.extend(a,o)),a=s(),n[r.controllerAs]=a):a=s(),angular.isFunction(a.$onInit)&&a.$onInit()),l.open(h,{scope:n,deferred:d,renderDeferred:m,closedDeferred:f,content:e[0],animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo}),p.resolve(!0)},function(e){p.reject(e),d.reject(e)})["finally"](function(){c===g&&(c=null)}),h},u}]};return e}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,o){e.push({key:t,value:o})},get:function(t){for(var o=0;o<e.length;o++)if(t===e[o].key)return e[o]},keys:function(){for(var t=[],o=0;o<e.length;o++)t.push(e[o].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var o=-1,n=0;n<e.length;n++)if(t===e[n].key){o=n;break}return e.splice(o,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var o,n,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},i={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(o){function n(e){return"static"===(t.getComputedStyle(e).position||"static")}o=this.getRawNode(o);for(var r=o.offsetParent||e[0].documentElement;r&&r!==e[0].documentElement&&n(r);)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(n)){var i=e.find("body");i.addClass("uib-position-body-scrollbar-measure"),n=t.innerWidth-i[0].clientWidth,n=isFinite(n)?n:0,i.removeClass("uib-position-body-scrollbar-measure")}return n}if(angular.isUndefined(o)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),o=a[0].offsetWidth-a[0].clientWidth,o=isFinite(o)?o:0,a.remove()}return o},scrollbarPadding:function(e){e=this.getRawNode(e);var o=t.getComputedStyle(e),n=this.parseStyle(o.paddingRight),r=this.parseStyle(o.paddingBottom),i=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(i,a.test(i.tagName));return{scrollbarWidth:l,widthOverflow:i.scrollWidth>i.clientWidth,right:n+l,originalRight:n,heightOverflow:i.scrollHeight>i.clientHeight,bottom:r+l,originalBottom:r}},isScrollable:function(e,o){e=this.getRawNode(e);var n=o?r.hidden:r.normal,i=t.getComputedStyle(e);return n.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(o,n,i){o=this.getRawNode(o);var a=n?r.hidden:r.normal,l=e[0].documentElement,s=t.getComputedStyle(o);if(i&&a.test(s.overflow+s.overflowY+s.overflowX))return o;var u="absolute"===s.position,c=o.parentElement||l;if(c===l||"fixed"===s.position)return l;for(;c.parentElement&&c!==l;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(o,n){o=this.getRawNode(o);var r=this.offset(o);if(n){var i=t.getComputedStyle(o);r.top-=this.parseStyle(i.marginTop),r.left-=this.parseStyle(i.marginLeft)}var a=this.offsetParent(o),l={top:0,left:0};return a!==e[0].documentElement&&(l=this.offset(a),l.top+=a.clientTop-a.scrollTop,l.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:o.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:o.offsetHeight),top:Math.round(r.top-l.top),left:Math.round(r.left-l.left)}},offset:function(o){o=this.getRawNode(o);var n=o.getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:o.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:o.offsetHeight),top:Math.round(n.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(n.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(o,n,r){o=this.getRawNode(o),r=r!==!1?!0:!1;var i=o.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},l=n?e[0].documentElement:this.scrollParent(o),s=l.getBoundingClientRect();if(a.top=s.top+l.clientTop,a.left=s.left+l.clientLeft,l===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+l.clientHeight,a.right=a.left+l.clientWidth,r){var u=t.getComputedStyle(l);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(i.top-a.top),bottom:Math.round(a.bottom-i.bottom),left:Math.round(i.left-a.left),right:Math.round(a.right-i.right)}},parsePlacement:function(e){var t=i.auto.test(e);return t&&(e=e.replace(i.auto,"")),e=e.split("-"),e[0]=e[0]||"top",i.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",i.secondary.test(e[1])||(e[1]="center"),e[2]=t?!0:!1,e},positionElements:function(e,o,n,r){e=this.getRawNode(e),o=this.getRawNode(o);var a=angular.isDefined(o.offsetWidth)?o.offsetWidth:o.prop("offsetWidth"),l=angular.isDefined(o.offsetHeight)?o.offsetHeight:o.prop("offsetHeight");n=this.parsePlacement(n);var s=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(n[2]){var c=this.viewportOffset(e,r),d=t.getComputedStyle(o),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(n[0]="top"===n[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===n[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===n[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===n[0]&&p.width>c.right&&p.width<=c.left?"left":n[0],n[1]="top"===n[1]&&p.height-s.height>c.bottom&&p.height-s.height<=c.top?"bottom":"bottom"===n[1]&&p.height-s.height>c.top&&p.height-s.height<=c.bottom?"top":"left"===n[1]&&p.width-s.width>c.right&&p.width-s.width<=c.left?"right":"right"===n[1]&&p.width-s.width>c.left&&p.width-s.width<=c.right?"left":n[1],"center"===n[1])if(i.vertical.test(n[0])){var f=s.width/2-a/2;c.left+f<0&&p.width-s.width<=c.right?n[1]="left":c.right+f<0&&p.width-s.width<=c.left&&(n[1]="right")}else{var m=s.height/2-p.height/2;c.top+m<0&&p.height-s.height<=c.bottom?n[1]="top":c.bottom+m<0&&p.height-s.height<=c.top&&(n[1]="bottom")}}switch(n[0]){case"top":u.top=s.top-l;break;case"bottom":u.top=s.top+s.height;break;case"left":u.left=s.left-a;break;case"right":u.left=s.left+s.width}switch(n[1]){case"top":u.top=s.top;break;case"bottom":u.top=s.top+s.height-l;break;case"left":u.left=s.left;break;case"right":u.left=s.left+s.width-a;break;case"center":i.vertical.test(n[0])?u.left=s.left+s.width/2-a/2:u.top=s.top+s.height/2-l/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],u},positionArrow:function(e,o){e=this.getRawNode(e);var n=e.querySelector(".tooltip-inner, .popover-inner");if(n){var r=angular.element(n).hasClass("tooltip-inner"),a=e.querySelector(r?".tooltip-arrow":".arrow");if(a){var l={top:"",bottom:"",left:"",right:""};if(o=this.parsePlacement(o),"center"===o[1])return void angular.element(a).css(l);var s="border-"+o[0]+"-width",u=t.getComputedStyle(a)[s],c="border-";c+=i.vertical.test(o[0])?o[0]+"-"+o[1]:o[1]+"-"+o[0],c+="-radius";var d=t.getComputedStyle(r?n:e)[c];switch(o[0]){case"top":l.bottom=r?"0":"-"+u;break;case"bottom":l.top=r?"0":"-"+u;break;case"left":l.right=r?"0":"-"+u;break;case"right":l.left=r?"0":"-"+u}l[o[1]]=d,angular.element(a).css(l)}}}}}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0});